---
## Author
author:
  name: Мацюк Константин Владимирович
  degrees: DSc
  orcid: 1032253640
  email: 1032253640@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Лабораторная работа №4"
subtitle: "Язык разметки Markdown"
license: "CC BY"
---

# Цель работы

Целью работы является освоение процедуры компиляции и сборки программ, написанных на ассемблере NASM.

# Выполнение лабораторной работы

## Программа Hello world!

Создал каталог для работы с программами на языке ассемблера NASM, перешел в новый каталог и создал текстовый файл с именем hello.asm (@fig-001):

![](image/1.png){#fig-001 width=70%}

Открыл этот файл с помощью gedit (@fig-002) и ввел в него текст программы, которая выводит строку "Hello world!" (@fig-003):

![](image/2.png){#fig-002 width=70%}

![](image/3.png){#fig-003 width=70%}

## Транслятор NASM

Скомпилировал программу, предварительно установив nasm (@fig-004):

![](image/4.png){#fig-004 width=70%}

Файл был создан под именем hello.o (@fig-005):

![](image/5.png){#fig-005 width=70%}

## Расширенный синтаксис командной строки NASM

Скомпилировал исходный файл в obj.o (@fig-006):

![](image/6.png){#fig-006 width=70%}

Проверил созданный файл (@fig-007):

![](image/7.png){#fig-007 width=70%}

## Компоновщик LD

Передал исполняемую программу компоновщику LD (@fig-008):

![](image/8.png){#fig-008 width=70%}

Проверил, что файл создан (@fig-009):

![](image/9.png){#fig-009 width=70%}

Выполнил команду "ld -m elf_i386 obj.o -o main" (@fig-010) и проверил с помощью команды ls. Исполняемый файл имеет имя main, исходный - obj.o:

![](image/10.png){#fig-010 width=70%}

## Запуск исполняемого файла

Запустил созданный исполняемый файл (@fig-011):

![](image/11.png){#fig-011 width=70%}

# Задания для самостоятельного выполнения

1. Создал копию файла hello.asm с именем lab4.asm в каталоге ~/work/arch-pc/lab04 (@fig-012):

![](image/12.png){#fig-012 width=90%}

2. Изменил текст программы так, чтобы на экран выводилась строка с фамилией и именем (@fig-013):

![](image/13.png){#fig-013 width=90%}

3. Оттранслировал текст программы в объектный файл, скомпоновал его и запустил (@fig-014):

![](image/14.png){#fig-014 width=70%}

4. Скопировал файлы в локальный репозиторий в каталог ~/work/study/2023-2024/"Архитектура компьютера"/arch-pc/labs/lab04/ (@fig-015):

![](image/15.png){#fig-015 width=70%}

## Листинги написанных программ:

hello.asm

``` assembler
SECTION .data
	hello:      db "Hello, world!",0xa 
	helloLen:   EQU $ - hello
SECTION .text
	global _start           

_start:                 
        mov eax, 4      
        mov ebx, 1    
        mov ecx, hello
        mov edx, helloLen
        int 0x80        
	
	mov eax, 1       
        mov ebx, 0      
        int 0x80   
```

lab4.asm

``` assembler
SECTION .data
	hello:      db "Мацюк Константин",0xa 
	helloLen:   EQU $ - hello
SECTION .text
	global _start           

_start:                 
        mov eax, 4      
        mov ebx, 1    
        mov ecx, hello
        mov edx, helloLen
        int 0x80        
	
	mov eax, 1       
        mov ebx, 0      
        int 0x80 
```

# Выводы

Освоил процедуру компиляции и сборки программ, написанных на ассемблере NASM.

# Список литературы{.unnumbered}

::: {#refs}
:::
